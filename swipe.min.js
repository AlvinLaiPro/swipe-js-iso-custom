!function (t, n) { "undefined" != typeof module && module.exports ? module.exports = n() : t.Swipe = n() }(this, function () { "use strict"; return function (t, n) { function e() { m = x.children, w = m.length, y = !(m.length < 2) && n.continuous, f.transitions && y && m.length < 3 && (x.appendChild(m[0].cloneNode(!0)), x.appendChild(x.children[1].cloneNode(!0)), m = x.children), E = new Array(m.length), p = Math.round(t.getBoundingClientRect().width || t.offsetWidth), x.style.width = m.length * p + "px"; for (var e = m.length; e--;) { var i = m[e]; i.style.width = p + "px", i.setAttribute("data-index", e), f.transitions && (i.style.left = e * -p + "px", a(e, T > e ? -p : T < e ? p : 0, 0)) } y && f.transitions && (a(r(T - 1), -p, 0), a(r(T + 1), p, 0)), f.transitions || (x.style.left = T * -p + "px"), t.style.visibility = "visible" } function i() { y ? s(T - 1) : T && s(T - 1) } function o() { y ? s(T + 1) : T < m.length - 1 && s(T + 1) } function r(t) { return (m.length + t % m.length) % m.length } function s(t, e) { if (T != t) { if (f.transitions) { var i = Math.abs(T - t) / (T - t); if (y) { var o = i; (i = -E[r(t)] / p) !== o && (t = -i * m.length + t) } for (var s = Math.abs(T - t) - 1; s--;)a(r((t > T ? t : T) - s - 1), p * i, 0); t = r(t), a(T, p * i, e || L), a(t, 0, e || L), y && a(r(t - i), -p * i, 0) } else t = r(t), c(T * -p, t * -p, e || L); T = t, h(n.callback && n.callback(T, m[T])) } } function a(t, n, e) { d(t, n, e), E[t] = n } function d(t, n, e) { var i = m[t], o = i && i.style; o && (o.webkitTransitionDuration = o.MozTransitionDuration = o.msTransitionDuration = o.OTransitionDuration = o.transitionDuration = e + "ms", o.webkitTransform = "translate(" + n + "px,0)translateZ(0)", o.msTransform = o.MozTransform = o.OTransform = "translateX(" + n + "px)") } function c(t, e, i) { if (i) var o = +new Date, r = setInterval(function () { var s = +new Date - o; if (s > i) return x.style.left = e + "px", D && u(), n.transitionEnd && n.transitionEnd.call(event, T, m[T]), void clearInterval(r); x.style.left = (e - t) * (Math.floor(s / i * 100) / 100) + t + "px" }, 4); else x.style.left = e + "px" } function u() { clearTimeout(g), g = setTimeout(o, D) } function l() { D = 0, clearTimeout(g) } var v = function () { }, h = function (t) { setTimeout(t || v, 0) }, f = { addEventListener: !!window.addEventListener, touch: "ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch, transitions: function (t) { var n = ["transitionProperty", "WebkitTransition", "MozTransition", "OTransition", "msTransition"]; for (var e in n) if (void 0 !== t.style[n[e]]) return !0; return !1 }(document.createElement("swipe")) }; if (t) { var m, E, p, w, x = t.children[0]; n = n || {}; var g, b, T = parseInt(n.startSlide, 10) || 0, L = n.speed || 300, y = n.continuous = void 0 === n.continuous || n.continuous, k = n.limitSwipe = void 0 !== n.limitSwipe && n.limitSwipe, D = n.auto || 0, M = {}, z = {}, S = { handleEvent: function (t) { switch (t.type) { case "touchstart": this.start(t); break; case "touchmove": this.move(t); break; case "touchend": h(this.end(t)); break; case "webkitTransitionEnd": case "msTransitionEnd": case "oTransitionEnd": case "otransitionend": case "transitionend": h(this.transitionEnd(t)); break; case "resize": h(e) }n.stopPropagation && t.stopPropagation() }, start: function (t) { var n = t.touches[0]; M = { x: n.pageX, y: n.pageY, time: +new Date }, b = void 0, z = {}, x.addEventListener("touchmove", this, !1), x.addEventListener("touchend", this, !1) }, move: function (t) { if (!(t.touches.length > 1 || t.scale && 1 !== t.scale || n.disableScroll)) { var e = t.touches[0]; z = { x: e.pageX - M.x, y: e.pageY - M.y }, void 0 === b && (b = !!(b || Math.abs(z.x) < Math.abs(z.y))), b || (t.preventDefault(), l(), y ? (d(r(T - 1), z.x + E[r(T - 1)], 0), d(T, z.x + E[T], 0), d(r(T + 1), z.x + E[r(T + 1)], 0)) : (z.x = k ? !T && z.x > 0 || T == m.length - 1 && z.x < 0 ? 0 : z.x : z.x / (!T && z.x > 0 || T == m.length - 1 && z.x < 0 ? Math.abs(z.x) / p + 1 : 1), d(T - 1, z.x + E[T - 1], 0), d(T, z.x + E[T], 0), d(T + 1, z.x + E[T + 1], 0)), n.swiping && n.swiping(-z.x / p)) } }, end: function (t) { var e = +new Date - M.time, i = Number(e) < 250 && Math.abs(z.x) > 20 || Math.abs(z.x) > p / 2, o = !T && z.x > 0 || T == m.length - 1 && z.x < 0; y && (o = !1); var s = z.x < 0; b || (i && !o ? (s ? (y ? (a(r(T - 1), -p, 0), a(r(T + 2), p, 0)) : a(T - 1, -p, 0), a(T, E[T] - p, L), a(r(T + 1), E[r(T + 1)] - p, L), T = r(T + 1)) : (y ? (a(r(T + 1), p, 0), a(r(T - 2), -p, 0)) : a(T + 1, p, 0), a(T, E[T] + p, L), a(r(T - 1), E[r(T - 1)] + p, L), T = r(T - 1)), n.callback && n.callback(T, m[T])) : y ? (a(r(T - 1), -p, L), a(T, 0, L), a(r(T + 1), p, L)) : (a(T - 1, -p, L), a(T, 0, L), a(T + 1, p, L))), x.removeEventListener("touchmove", S, !1), x.removeEventListener("touchend", S, !1), x.removeEventListener("touchforcechange", function () { }, !1) }, transitionEnd: function (t) { parseInt(t.target.getAttribute("data-index"), 10) == T && (D && u(), n.transitionEnd && n.transitionEnd.call(t, T, m[T])) } }; return e(), D && u(), f.addEventListener ? (f.touch && (x.addEventListener("touchstart", S, !1), x.addEventListener("touchforcechange", function () { }, !1)), f.transitions && (x.addEventListener("webkitTransitionEnd", S, !1), x.addEventListener("msTransitionEnd", S, !1), x.addEventListener("oTransitionEnd", S, !1), x.addEventListener("otransitionend", S, !1), x.addEventListener("transitionend", S, !1)), window.addEventListener("resize", S, !1)) : window.onresize = function () { e() }, { setup: function () { e() }, slide: function (t, n) { l(), s(t, n) }, prev: function () { l(), i() }, next: function () { l(), o() }, stop: function () { l() }, getPos: function () { return T }, getNumSlides: function () { return w }, kill: function () { l(), x.style.width = "", x.style.left = ""; for (var t = m.length; t--;) { var n = m[t]; n.style.width = "", n.style.left = "", f.transitions && d(t, 0, 0) } f.addEventListener ? (x.removeEventListener("touchstart", S, !1), x.removeEventListener("webkitTransitionEnd", S, !1), x.removeEventListener("msTransitionEnd", S, !1), x.removeEventListener("oTransitionEnd", S, !1), x.removeEventListener("otransitionend", S, !1), x.removeEventListener("transitionend", S, !1), window.removeEventListener("resize", S, !1)) : window.onresize = null } } } } });